CREATE TABLE Fonction
(
  id_fonction INT NOT NULL,
  Nom INT NOT NULL,
  PRIMARY KEY (id_fonction)
);

CREATE TABLE Caracteristique
(
  Description INT NOT NULL,
  id_carac INT NOT NULL,
  PRIMARY KEY (id_carac)
);

CREATE TABLE Departement
(
  NomDep INT NOT NULL,
  id_departement INT NOT NULL,
  PRIMARY KEY (id_departement)
);

CREATE TABLE Sous_Local
(
  id_sl INT NOT NULL,
  nom INT NOT NULL,
  PRIMARY KEY (id_sl)
);

CREATE TABLE Status
(
  id_status INT NOT NULL,
  Description INT NOT NULL,
  nom INT NOT NULL,
  PRIMARY KEY (id_status)
);

CREATE TABLE Pavillon
(
  id_pavillon INT NOT NULL,
  nom_pavillon INT NOT NULL,
  id_campus INT NOT NULL,
  PRIMARY KEY (id_pavillon)
);

CREATE TABLE Campus
(
  id_campus INT NOT NULL,
  nom INT NOT NULL,
  ville INT NOT NULL,
  id_pavillon INT NOT NULL,
  PRIMARY KEY (id_campus),
  FOREIGN KEY (id_pavillon) REFERENCES Pavillon(id_pavillon)
);

CREATE TABLE Categorie_Local
(
  id_categorie INT NOT NULL,
  nomCategorie INT NOT NULL,
  PRIMARY KEY (id_categorie)
);

CREATE TABLE Local_Liste_Sous_Local
(
  liste_sous_locaux INT NOT NULL,
  id_sl INT NOT NULL,
  PRIMARY KEY (liste_sous_locaux),
  FOREIGN KEY (id_sl) REFERENCES Sous_Local(id_sl)
);

CREATE TABLE Local
(
  num_local INT NOT NULL,
  Capacite INT NOT NULL,
  Note INT,
  id_carac INT NOT NULL,
  id_categorie INT NOT NULL,
  id_pavillon INT NOT NULL,
  liste_sous_locaux INT NOT NULL,
  id_fonction INT NOT NULL,
  PRIMARY KEY (num_local, id_pavillon),
  FOREIGN KEY (id_carac) REFERENCES Caracteristique(id_carac),
  FOREIGN KEY (id_categorie) REFERENCES Categorie_Local(id_categorie),
  FOREIGN KEY (id_pavillon) REFERENCES Pavillon(id_pavillon),
  FOREIGN KEY (liste_sous_locaux) REFERENCES Local_Liste_Sous_Local(liste_sous_locaux),
  FOREIGN KEY (id_fonction) REFERENCES Fonction(id_fonction)
);

CREATE TABLE Membre
(
  cip INT NOT NULL,
  Nom_membre INT NOT NULL,
  id_status INT NOT NULL,
  id_departement INT NOT NULL,
  PRIMARY KEY (cip),
  FOREIGN KEY (id_status) REFERENCES Status(id_status),
  FOREIGN KEY (id_departement) REFERENCES Departement(id_departement)
);

CREATE TABLE Reservation
(
  date INT NOT NULL,
  heure_debut INT NOT NULL,
  id_reservation INT NOT NULL,
  heure_fin INT NOT NULL,
  cip INT NOT NULL,
  num_local INT NOT NULL,
  id_pavillon INT NOT NULL,
  PRIMARY KEY (id_reservation),
  FOREIGN KEY (cip) REFERENCES Membre(cip),
  FOREIGN KEY (num_local, id_pavillon) REFERENCES Local(num_local, id_pavillon)
);

CREATE TABLE TABLEAU
(
  id_reservation INT NOT NULL,
  id_categorie INT NOT NULL,
  FOREIGN KEY (id_reservation) REFERENCES Reservation(id_reservation),
  FOREIGN KEY (id_categorie) REFERENCES Categorie_Local(id_categorie)
);